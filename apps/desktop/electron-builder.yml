appId: com.squadx.live
productName: SquadX Live
copyright: Copyright 2026 SquadX Team

directories:
  output: out
  buildResources: resources

# App icon - electron-builder will look for icon.png, icon.icns, icon.ico in buildResources
icon: resources/icon.png

files:
  - dist/**/*
  - resources/**/*
  - '!**/*.map'
  - '!**/node_modules/**/{CHANGELOG.md,README.md,LICENSE*}'

extraResources:
  - from: resources/icons
    to: icons
    filter:
      - '**/*'

asar: true
asarUnpack:
  - '**/*.node'

afterSign: scripts/notarize.cjs

mac:
  category: public.app-category.productivity
  target:
    - target: dmg
      arch:
        - x64
        - arm64
    - target: zip
      arch:
        - x64
        - arm64
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: resources/entitlements.mac.plist
  entitlementsInherit: resources/entitlements.mac.plist

win:
  target:
    - target: nsis
      arch:
        - x64
        - arm64

linux:
  target:
    - AppImage
    - deb
    - rpm
  category: Network
  maintainer: SquadX Team
  artifactName: '${productName}-${version}-${arch}.${ext}'
  executableName: squadx-live

deb:
  packageName: squadx-live

rpm:
  packageName: squadx-live

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true

publish:
  provider: github
  owner: squadx
  repo: squadx-live
